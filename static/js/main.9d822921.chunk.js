(this["webpackJsonpshoppies-by-daria"]=this["webpackJsonpshoppies-by-daria"]||[]).push([[0],[,,,,function(e,t,n){},function(e,t,n){e.exports={appear:"layout_appear__1ktLm",heading:"layout_heading__2wzH_",logo:"layout_logo__KmJ5e",subheading:"layout_subheading__2gdcu",buttonContainer:"layout_buttonContainer__2QSID",intro:"layout_intro__2qs1C",title:"layout_title__3teY5"}},function(e,t,n){e.exports={nominations:"nominations_nominations__1nksH",nominationsHeading:"nominations_nominationsHeading__tquXP",nominationsCount:"nominations_nominationsCount__3cwKD",dropdownButton:"nominations_dropdownButton__3Ev81",nominatedList:"nominations_nominatedList__4LqSH",nominationsPlaceholder:"nominations_nominationsPlaceholder__2LpiM",nominationsActive:"nominations_nominationsActive__yc4pt"}},function(e,t,n){e.exports={movieCard:"movieCard_movieCard__3ok1q",movieTitle:"movieCard_movieTitle__1exdN",movieCardButtons:"movieCard_movieCardButtons__BaZRJ",infoButton:"movieCard_infoButton__hEDTP",removeButton:"movieCard_removeButton__3PfWY",movieCardSearch:"movieCard_movieCardSearch__1sPd5",movieCardNominations:"movieCard_movieCardNominations__13YWN"}},,function(e,t,n){e.exports={searchLoading:"results_searchLoading__Kqrbf",searchError:"results_searchError__31KIw",searchResults:"results_searchResults__3jwVW",resultList:"results_resultList__2J1yE",searchAlert:"results_searchAlert__3NNpU"}},,function(e,t,n){e.exports={movieInfoWrapper:"movieInfo_movieInfoWrapper__1XHaj",movieInfo:"movieInfo_movieInfo__11tYh",closeButton:"movieInfo_closeButton__3JDGf",movieDetails:"movieInfo_movieDetails__29QvH"}},function(e,t,n){e.exports={search:"searchBar_search__igyw_",searchBar:"searchBar_searchBar__XkB7g",searchTextField:"searchBar_searchTextField__3b2oN",searchButton:"searchBar_searchButton__3kI6v"}},,function(e,t,n){e.exports={greeting:"greeting_greeting__2APCn",descent:"greeting_descent___0nQ4",logo:"greeting_logo__KGbUZ",title:"greeting_title__1EGik"}},function(e,t,n){e.exports={submitted:"submitted_submitted__5TqW6",socialButton:"submitted_socialButton__1-XrW"}},function(e,t,n){e.exports={spinnerContainer:"spinner_spinnerContainer__o8NS6",spinnerBackground:"spinner_spinnerBackground__WT73H",spinner:"spinner_spinner__2Iavo",spin:"spinner_spin__l0tok"}},,,,,function(e,t,n){e.exports={toTopButton:"topButton_toTopButton__2UHGk"}},function(e,t,n){e.exports={banner:"banner_banner__MVAS2"}},function(e,t,n){e.exports={movieLists:"movieLists_movieLists__gV2Fq"}},,,,,,,function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),r=n(19),o=n.n(r),i=n(2),a=n.p+"static/media/logo.7cbd040f.svg",l=(n(4),n(14)),j=function(){return Object(c.jsxs)("div",{className:l.greeting,children:[Object(c.jsx)("img",{className:l.logo,src:a,alt:"The Shoppies Movie Awards logo"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:"Welcome to"}),Object(c.jsx)("p",{className:l.title,children:"The Shoppies"}),Object(c.jsx)("p",{children:"2021"})]})]})},u=n(5),d=function(e){var t=e.children;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("header",{className:"gridContainer appear",children:[Object(c.jsxs)("div",{className:u.heading,children:[Object(c.jsx)("img",{className:u.logo,src:a,alt:"The Shoppies Movie Awards logo"}),Object(c.jsx)("h1",{children:"The Shoppies"})]}),Object(c.jsx)("span",{className:u.subheading,children:"First movie award that recognizes the entrepreneurial spirit"}),Object(c.jsx)("div",{className:u.buttonContainer,children:Object(c.jsx)("a",{href:"#search",children:Object(c.jsx)("button",{children:"Nominate directors"})})})]}),Object(c.jsxs)("main",{className:"appear",children:[Object(c.jsxs)("section",{className:"".concat(u.intro," gridContainer"),children:[Object(c.jsx)("h2",{children:"Recognizing film entrepreneurs"}),Object(c.jsx)("article",{children:Object(c.jsx)("p",{children:"There is one thing that Shopify store owners and movie directors have in common: they are all entrepreneurs. We would like to honour our favourite movie directors by awarding them with The Shoppies, the first movie award based on the votes of eCommerce entrepreneurs."})})]}),t]}),Object(c.jsxs)("footer",{className:"appear",children:[Object(c.jsxs)("div",{className:u.heading,children:[Object(c.jsx)("img",{className:u.logo,src:a,alt:"The Shoppies Movie Awards logo"}),Object(c.jsx)("span",{className:u.title,children:"The Shoppies"})]}),Object(c.jsx)("a",{href:"https://dariatsvetkova.ca",target:"_blank",rel:"noreferrer",children:"made by Daria Tsvetkova"}),Object(c.jsx)("small",{children:"Photo by D.Shevtsova via Pexels"})]})]})},b=n(3),h=n(15),m=function(){var e=encodeURIComponent("I've nominated movies for The Shoppies award! Share your favourite movies too:"),t="https://dariatsvetkova.github.io/shoppies-by-daria/";return Object(c.jsxs)("section",{className:"".concat(h.submitted," gridContainer appear"),children:[Object(c.jsx)("h2",{children:"Thank you!"}),Object(c.jsxs)("article",{children:[Object(c.jsx)("p",{children:"Your Shoppies nominations have been submitted."}),Object(c.jsx)("p",{children:"Share on social media:"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"".concat(h.socialButton," iconButton"),children:Object(c.jsx)("a",{href:"https://www.facebook.com/sharer/sharer.php?u=".concat(t),target:"_blank",rel:"noreferrer",title:"Share on Facebook",children:Object(c.jsx)(b.c,{})})}),Object(c.jsx)("button",{className:"".concat(h.socialButton," iconButton"),children:Object(c.jsx)("a",{href:"https://twitter.com/intent/tweet?url=".concat(t,"&text=").concat(e),target:"_blank",rel:"noreferrer",title:"Share on Twitter",children:Object(c.jsx)(b.f,{})})})]})]})]})},O=n(8),p=n(18),x=n.n(p),f=n(20);function _(){return(_=Object(f.a)(x.a.mark((function e(t,n){var c,s,r,o,i,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(c=function(e){var t=e.toLowerCase().split("");return t.filter((function(e,n){return(0!==n&&n!==t.length-1||!/\s/.test(e))&&((!/\s/.test(e)||!/\s/.test(t[n+1]))&&/[a-z\d\s\-\']/.test(e))})).join("")}(t))){e.next=6;break}return e.abrupt("return",{searchResults:[],totalResults:0,error:""});case 6:for(o in s=new URL("https://www.omdbapi.com/"),r={s:c,type:"movie",r:"json",apikey:"b56cbf95",page:n})r.hasOwnProperty.call(r,o)&&s.searchParams.set(o,r[o]);return e.next=11,fetch(s);case 11:return i=e.sent,e.next=14,i.json();case 14:if("False"!==(a=e.sent).Response){e.next=19;break}return e.abrupt("return",{searchResults:[],totalResults:0,error:a.Error});case 19:return e.abrupt("return",{searchResults:a.Search,totalResults:a.totalResults,error:""});case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e,t){return _.apply(this,arguments)},g=n(16),N=function(){return Object(c.jsx)("div",{className:g.spinnerContainer,children:Object(c.jsx)("div",{className:g.spinnerBackground,children:Object(c.jsx)("div",{className:g.spinner})})})},w=n.p+"static/media/placeholder.88f89971.png",y=n(11),C=Object(s.forwardRef)((function(e,t){var n=e.imdbID,r=e.Year,o=e.close,a=Object(s.useState)(!0),l=Object(i.a)(a,2),j=l[0],u=l[1],d=Object(s.useState)(!1),h=Object(i.a)(d,2),m=h[0],O=h[1],p=Object(s.useState)({}),x=Object(i.a)(p,2),f=x[0],_=x[1];Object(s.useEffect)((function(){var e=new URL("https://www.omdbapi.com/"),t={i:n,y:r,type:"movie",r:"json",apikey:"b56cbf95"};for(var c in t)t.hasOwnProperty.call(t,c)&&e.searchParams.set(c,t[c]);fetch(e).then((function(e){return e.json()})).then((function(e){_(e),O("")})).catch((function(){O(!0)})).finally((function(){return u(!1)}))}),[]);var v=f.Title,g=f.Poster,C=f.Director,S=f.Runtime,B=f.Genre,T=f.Language,k=f.Country,L=f.Actors,I=f.Plot,R=Object(s.useRef)(null),D=Object(s.useRef)(null),P=function(e){R.current.contains(e.target)&&!D.current.contains(e.target)||o()};return Object(s.useEffect)((function(){return document.addEventListener("click",P,!1),function(){return document.removeEventListener("click",P)}}),[]),Object(c.jsx)("div",{className:"".concat(y.movieInfoWrapper," box boxPop"),ref:t,children:Object(c.jsxs)("div",{className:y.movieInfo,ref:R,children:[Object(c.jsx)("button",{className:"".concat(y.closeButton," xButton"),ref:D,onClick:P,children:Object(c.jsx)(b.e,{})}),j&&Object(c.jsx)(N,{}),m&&Object(c.jsx)("p",{children:"Can't find movie info"}),v&&Object(c.jsxs)("div",{className:y.movieDetails,children:[Object(c.jsx)("img",{src:g.match(/^http|^www/)?g:w,alt:"".concat(v," movie poster")}),Object(c.jsx)("h4",{children:"".concat(v," (").concat(r,")")}),Object(c.jsx)("span",{children:"by ".concat(C)}),Object(c.jsxs)("dl",{children:[Object(c.jsxs)("p",{children:[Object(c.jsx)("dt",{children:"Runtime: "}),Object(c.jsx)("dd",{children:S})]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("dt",{children:"Genre: "}),Object(c.jsx)("dd",{children:B})]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("dt",{children:"Language: "}),Object(c.jsx)("dd",{children:T})]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("dt",{children:"Country: "}),Object(c.jsx)("dd",{children:k})]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("dt",{children:"Director: "}),Object(c.jsx)("dd",{children:C})]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("dt",{children:"Cast: "}),Object(c.jsx)("dd",{children:L})]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("dt",{children:"Plot: "}),Object(c.jsx)("dd",{children:I})]})]})]})]})})})),S=n(7),B=function(e){var t=e.movie,n=e.category,r=e.disableNominate,o=e.nominate,a=e.remove,l=Object(s.useState)(!1),j=Object(i.a)(l,2),u=j[0],d=j[1],h=Object(s.useRef)(null),m=function(){u?(h.current.classList.add("boxUnpop"),setTimeout((function(){return d(!1)}),300)):d(!0)},O=Object(s.useRef)(null),p=t.imdbID,x=t.Title,f=t.Year,_=t.Poster,v="movieCard".concat(n);return Object(c.jsxs)("li",{className:"Nominations"===n?"pop":"appear",ref:O,children:[Object(c.jsxs)("article",{className:"".concat(S.movieCard," ").concat(S[v]," box"),children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:_.match(/^http|^www/)?_:w,alt:"".concat(x," movie poster")}),Object(c.jsxs)("h4",{className:S.movieTitle,children:[x," ","(",f,")"]})]}),Object(c.jsxs)("div",{className:S.movieCardButtons,children:[Object(c.jsx)("button",{className:S.infoButton,onClick:m,children:"i"}),"Search"===n&&Object(c.jsx)("button",{onClick:function(){return o(t)},disabled:r,children:"Nominate"}),"Nominations"===n&&Object(c.jsx)("button",{className:"".concat(S.removeButton," iconButton"),onClick:function(){return function(e){O.current.classList.add("unpop"),setTimeout((function(){return a(e)}),300)}(t)},children:Object(c.jsx)(b.e,{})})]})]}),u&&Object(c.jsx)(C,{ref:h,imdbID:p,Year:f,close:m})]})},T=n(9),k=function(e){var t=e.searchTerm,n=e.submitted,r=e.nominatedList,o=e.nominate,a=Object(s.useState)(!1),l=Object(i.a)(a,2),j=l[0],u=l[1],d=Object(s.useState)([]),b=Object(i.a)(d,2),h=b[0],m=b[1],p=Object(s.useState)(null),x=Object(i.a)(p,2),f=x[0],_=x[1],g=Object(s.useState)(""),w=Object(i.a)(g,2),y=w[0],C=w[1],S=Object(s.useState)(1),k=Object(i.a)(S,2),L=k[0],I=k[1],R=function(e,t){u(!0),v(e,t).then((function(e){_(e.totalResults),C(e.error);var n=(t>1?[].concat(Object(O.a)(h),Object(O.a)(e.searchResults)):e.searchResults).filter((function(e,t,n){return t===n.findIndex((function(t){return t.imdbID===e.imdbID&&t.Title===e.Title}))}));m(n)})).catch((function(){m([]),_(0),C("Can't connect")})).finally((function(){return u(!1)}))};Object(s.useEffect)((function(){I(1),R(t,1)}),[t]);var D=r.map((function(e){return e.imdbID})),P="";return y.length>0&&(P="Too many results."===y?n?"Too many results. Try to narrow your search.":"":"Movie not found!"===y?"Can't find \"".concat(t,'". Try searching for something else.'):y),Object(c.jsxs)(c.Fragment,{children:[j&&Object(c.jsx)("section",{className:"".concat(T.searchLoading," box appear"),children:Object(c.jsx)(N,{})}),P.length>0&&Object(c.jsx)("section",{className:"".concat(T.searchError," box appear"),children:Object(c.jsx)("p",{className:T.searchAlert,children:P})}),h.length>0&&Object(c.jsx)("section",{className:"".concat(T.searchResults," box appear"),children:Object(c.jsxs)("div",{className:T.resultList,children:[Object(c.jsxs)("h3",{children:[f," ",'results found for "',t,'":']}),Object(c.jsx)("ul",{children:h.map((function(e){return Object(c.jsx)(B,{movie:e,category:"Search",disableNominate:D.indexOf(e.imdbID)>=0||5===r.length,nominate:o},"Search-".concat(e.imdbID))}))}),f>10*L&&Object(c.jsx)("button",{onClick:function(){R(t,L+1),I(L+1)},children:"Show more"})]})})]})},L=n(21),I=function(){return Object(c.jsx)("button",{className:"".concat(L.toTopButton," iconButton"),children:Object(c.jsx)("a",{href:"#search",children:Object(c.jsx)(b.b,{})})})},R=n(12),D=function(e){var t=Object(s.useState)(""),n=Object(i.a)(t,2),r=n[0],o=n[1],a=Object(s.useState)(!1),l=Object(i.a)(a,2),j=l[0],u=l[1],d=Object(s.useState)(!1),h=Object(i.a)(d,2),m=h[0],O=h[1],p=Object(s.useRef)(null);return Object(s.useEffect)((function(){var e=function(){p.current.getBoundingClientRect().top<0&&O(!0),p.current.getBoundingClientRect().top>=0&&O(!1)};return window.addEventListener("scroll",e,!1),function(){return window.removeEventListener("scroll",e)}})),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("section",{className:R.search,children:Object(c.jsx)("form",{className:"".concat(R.searchBar," box"),onSubmit:function(e){e.preventDefault(),u(!0)},ref:p,children:Object(c.jsxs)("fieldset",{children:[Object(c.jsxs)("legend",{children:["We invite you to acknowledge your favourite directors by nominating their movies in the search results below.",Object(c.jsx)("br",{}),"Please select 5 movies."]}),Object(c.jsx)("input",{name:"search-text",className:R.searchTextField,placeholder:"Search for the movie to nominate",value:r,onChange:function(e){o(e.target.value),j&&u(!1)},type:"search",style:{fontSize:"1em"}}),Object(c.jsx)("button",{className:R.searchButton,value:"Submit",children:Object(c.jsx)(b.d,{})})]})})}),r.length>0&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(k,{searchTerm:r,submitted:j,nominatedList:e.nominatedList,nominate:e.nominate}),m&&Object(c.jsx)(I,{})]})]})},P=n(22),E=function(e){var t=e.submit;return Object(c.jsxs)("section",{className:"".concat(P.banner," box pop"),children:[Object(c.jsx)("p",{children:"You have reached the maximum amount of nominations. Ready to submit?"}),Object(c.jsx)("button",{onClick:t,children:"Submit"})]})},A=n(6),F=function(e){var t=e.nominatedList,n=e.submit,r=e.remove,o=Object(s.useState)(!1),a=Object(i.a)(o,2),l=a[0],j=a[1],u=t.length;return Object(c.jsxs)("section",{className:"\n      ".concat(A.nominations," \n      ").concat(l?A.nominationsActive:""," \n      box"),children:[Object(c.jsxs)("div",{className:A.nominationsHeading,children:[Object(c.jsxs)("h3",{children:["Your nominations:"," ",Object(c.jsx)("span",{className:A.nominationsCount,children:u})]}),Object(c.jsx)("button",{className:"".concat(A.dropdownButton," iconButton"),onClick:function(){return j(!l)},children:l?Object(c.jsx)(b.b,{}):Object(c.jsx)(b.a,{})})]}),5===u&&Object(c.jsx)(E,{submit:n}),0===u?Object(c.jsx)("p",{className:A.nominationsPlaceholder,children:"No movies nominated yet"}):Object(c.jsx)("ul",{className:A.nominatedList,children:t.map((function(e){return Object(c.jsx)(B,{movie:e,category:"Nominations",remove:r},"Nominations-".concat(e.imdbID))}))})]})},W=n(23),H=function(e){var t=e.submit,n=Object(s.useState)([]),r=Object(i.a)(n,2),o=r[0],a=r[1];Object(s.useEffect)((function(){var e=localStorage.getItem("shoppies-by-daria");if(e){var t=JSON.parse(e);t.length>0&&a(t)}}),[]);var l=function(e){localStorage.setItem("shoppies-by-daria",JSON.stringify(e)),a(Object(O.a)(e))};return Object(c.jsxs)("section",{className:"".concat(W.movieLists," gridContainer"),id:"search",children:[Object(c.jsx)("h2",{children:"Choose your favourites"}),Object(c.jsx)(D,{nominate:function(e){var t=[].concat(Object(O.a)(o),[e]);return l(t)},nominatedList:o}),Object(c.jsx)(F,{nominatedList:o,remove:function(e){var t=o.findIndex((function(t){return t.imdbID===e.imdbID&&t.Title===e.Title})),n=o;return n.splice(t,1),l(n)},submit:t})]})},Y=function(){var e=Object(s.useState)(!0),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(s.useState)(!1),a=Object(i.a)(o,2),l=a[0],u=a[1];Object(s.useEffect)((function(){setTimeout((function(){return r(!1)}),3e3),console.log("Hi there ( ^_^)\uff0f")}),[]);return Object(c.jsx)(c.Fragment,{children:n?Object(c.jsx)(j,{}):Object(c.jsx)("div",{className:"app",children:Object(c.jsx)(d,{children:l?Object(c.jsx)(m,{}):Object(c.jsx)(H,{submit:function(){u(!0),localStorage.clear()}})})})})};o.a.render(Object(c.jsx)(Y,{}),document.getElementById("root"))}],[[30,1,2]]]);
//# sourceMappingURL=main.9d822921.chunk.js.map